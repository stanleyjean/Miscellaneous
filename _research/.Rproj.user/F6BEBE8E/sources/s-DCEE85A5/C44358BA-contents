# devtools::install_version("OECD", version = "0.2.4", repos = "https://stat.ethz.ch/CRAN/") # nolint
library(tidyverse)

# searching out the data sets

library(OECD)
dataset_list <- get_datasets()
search_dataset("regional", data = dataset_list)

# adding ID for the dataset I'm interested in

dataset_edu <- "REGION_EDUCAT"
dataset_wb <- "RWB"
dstruc_edu <- OECD::get_data_structure(dataset_edu)
dstruc_wb <- OECD::get_data_structure(dataset_wb)

# ex <- "REGION_DEMOGR"
# dstruc_de <- get_data_structure(ex)
# str(dstruc_de, max.level = 1)
# dstruc_de$VAR_DESC
# save.image("data.RData")

str(dstruc_edu, max.level = 1)
str(dstruc_wb, max.level = 1)

str(dstruc_edu)

unique(dstruc_wb$IND)

dstruc_wb$VAR_DESC
dstruc_wb$REG_ID

rm(df)
##################################################
RWB <- get_dataset("RWB",
                  filter = "AUS+AU1+AU2+AU3+AU4+AU5+AU6+AU7+AU8+AUT+AT11+AT12+AT13+AT21+AT22+AT31+AT32+AT33+AT34+BEL+BE1+BE2+BE3+CAN+CA10+CA11+CA12+CA13+CA24+CA35+CA46+CA47+CA48+CA59+CA60+CA61+CA62+CHL+CL01+CL02+CL03+CL04+CL05+CL06+CL07+CL08+CL09+CL10+CL11+CL12+CL13+CL14+CL15+CZE+CZ01+CZ02+CZ03+CZ04+CZ05+CZ06+CZ07+CZ08+DNK+DK01+DK02+DK03+DK04+DK05+EST+EE00+EE001+EE004+EE006+EE007+EE008+FIN+FI19+FI1B+FI1C+FI1D+FI20+FRA+FR10+FR21+FR22+FR23+FR24+FR25+FR26+FR30+FR41+FR42+FR43+FR51+FR52+FR53+FR61+FR62+FR63+FR71+FR72+FR81+FR82+FR83+DEU+DE1+DE2+DE3+DE4+DE5+DE6+DE7+DE8+DE9+DEA+DEB+DEC+DED+DEE+DEF+DEG+GRC+GR1+GR2+GR3+GR4+HUN+HU1+HU10+HU2+HU21+HU22+HU23+HU3+HU31+HU32+HU33+ISL+IS01+IS02+IRL+IE01+IE02+ISR+IL01+IL02+IL03+IL04+IL05+IL06+ITA+ITC1+ITC2+ITC3+ITC4+ITF1+ITF2+ITF3+ITF4+ITF5+ITF6+ITG1+ITG2+ITH1+ITH2+ITH3+ITH4+ITH5+ITI1+ITI2+ITI3+ITI4+JPN+JPA+JPB+JPC+JPD+JPE+JPF+JPG+JPH+JPI+JPJ+KOR+KR01+KR02+KR03+KR04+KR05+KR06+KR07+LUX+LU00+MEX+ME01+ME02+ME03+ME04+ME05+ME06+ME07+ME08+ME09+ME10+ME11+ME12+ME13+ME14+ME15+ME16+ME17+ME18+ME19+ME20+ME21+ME22+ME23+ME24+ME25+ME26+ME27+ME28+ME29+ME30+ME31+ME32+NLD+NL1+NL2+NL3+NL4+NZL+NZ01+NZ02+NOR+NO01+NO02+NO03+NO04+NO05+NO06+NO07+POL+PL1+PL11+PL12+PL2+PL21+PL22+PL3+PL31+PL32+PL33+PL34+PL4+PL41+PL42+PL43+PL5+PL51+PL52+PL6+PL61+PL62+PL63+PRT+PT11+PT15+PT16+PT17+PT18+PT20+PT30+SVK+SK01+SK02+SK03+SK04+SVN+SI01+SI02+ESP+ES11+ES12+ES13+ES21+ES22+ES23+ES24+ES30+ES41+ES42+ES43+ES51+ES52+ES53+ES61+ES62+ES63+ES64+ES70+SWE+SE11+SE12+SE21+SE22+SE23+SE31+SE32+SE33+CHE+CH01+CH02+CH03+CH04+CH05+CH06+CH07+TUR+TR10+TR21+TR22+TR31+TR32+TR33+TR41+TR42+TR51+TR52+TR61+TR62+TR63+TR71+TR72+TR81+TR82+TR83+TR90+TRA1+TRA2+TRB1+TRB2+TRC1+TRC2+TRC3+GBR+UKC+UKD+UKE+UKF+UKG+UKH+UKI+UKJ+UKK+UKL+UKM+UKN+USA+US01+US02+US04+US05+US06+US08+US09+US10+US11+US12+US13+US15+US16+US17+US18+US19+US20+US21+US22+US23+US24+US25+US26+US27+US28+US29+US30+US31+US32+US33+US34+US35+US36+US37+US38+US39+US40+US41+US42+US44+US45+US46+US47+US48+US49+US50+US51+US53+US54+US55+US56.RWB+INCOME_DISP+JOB+EMP_RA+UNEM_RA+HOUSE+ROOMS_PC+EDU38_SH+LIFE_EXP+STD_MORT+AIR_POL+HOMIC_RA+VOTERS_SH+BB_ACC+SUBJ_SOC_SUPP+SUBJ_LIFE_SAT+SUBJ_PERC_CORR.VALUE",
                  pre_formatted = TRUE)
RS <- get_dataset("REGION_SOCIAL",
                  filter = "AUS+AUT+BEL+CAN+CHL+COL+CRI+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LVA+LTU+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+E19+NMEC+BRA+BGR+HRV+ROU+RUS+ZAF.AUS+AU1+AU2+AU3+AU4+AU5+AU6+AU7+AU8+AU101+AU103+AU104+AU105+AU106+AU107+AU108+AU109+AU110+AU111+AU112+AU113+AU114+AU1GS+AU201+AU202+AU203+AU204+AU205+AU215+AU216+AU217+AU2GM+AU306+AU307+AU308+AU309+AU312+AU315+AU316+AU317+AU318+AU319+AU3GB+AU405+AU406+AU407+AU4GA+AU501+AU508+AU509+AU5GP+AU601+AU602+AU603+AU604+AU701+AU702+AU801+AUT+AT11+AT12+AT13+AT21+AT22+AT31+AT32+AT33+AT34+BEL+BE1+BE2+BE3+BEL_EU2+BE10+BE21+BE22+BE23+BE24+BE25+BE31+BE32+BE33+BE34+BE35+CAN+CA10+CA11+CA12+CA13+CA24+CA35+CA46+CA47+CA48+CA59+CA60+CA61+CA62+CHL+CL01+CL02+CL03+CL04+CL05+CL06+CL07+CL08+CL09+CL10+CL11+CL12+CL13+CL14+CL15+CZE+CZ01+CZ02+CZ03+CZ04+CZ05+CZ06+CZ07+CZ08+DNK+DK01+DK02+DK03+DK04+DK05+EST+EE00+EE001+EE004+EE006+EE007+EE008+FIN+FI19+FI1B+FI1C+FI1D+FI20+FRA+FR1+FRB+FRC+FRD+FRE+FRF+FRG+FRH+FRI+FRJ+FRK+FRL+FRM+DEU+DE1+DE2+DE3+DE4+DE5+DE6+DE7+DE8+DE9+DEA+DEB+DEC+DED+DEE+DEF+DEG+DEU_EU2+DE11+DE12+DE13+DE14+DE21+DE22+DE23+DE24+DE25+DE26+DE27+DE30+DE40+DE50+DE60+DE71+DE72+DE73+DE80+DE91+DE92+DE93+DE94+DEA1+DEA2+DEA3+DEA4+DEA5+DEB1+DEB2+DEB3+DEC0+DED2+DED4+DED5+DEE0+DEF0+DEG0+GRC+EL30+EL41+EL42+EL43+EL51+EL52+EL53+EL54+EL61+EL62+EL63+EL64+EL65+HUN+HUN_TL2+HU10+HU11+HU12+HU21+HU22+HU23+HU31+HU32+HU33+ISL+IRL+IE01+IE02+ISR+ISR_TL2+IL01+IL02+IL03+IL04+IL05+IL06+ITA+ITC1+ITC2+ITC3+ITC4+ITF1+ITF2+ITF3+ITF4+ITF5+ITF6+ITG1+ITG2+ITH1+ITH2+ITH3+ITH4+ITH5+ITI1+ITI2+ITI3+ITI4+JPN+JPA+JPB+JPC+JPD+JPE+JPF+JPG+JPH+JPI+JPJ+KOR+KR01+KR02+KR03+KR04+KR05+KR06+KR07+KR011+KR012+KR013+KR021+KR022+KR023+KR031+KR032+KR041+KR042+KR043+KR051+KR052+KR053+KR054+KR061+KR071+LVA+LV00+LV006+LV007+LV008+LV003+LV009+LV005+LTU+LTU_TL2+LT00+LUX+LU00+MEX+ME01+ME02+ME03+ME04+ME05+ME06+ME07+ME08+ME09+ME10+ME11+ME12+ME13+ME14+ME15+ME16+ME17+ME18+ME19+ME20+ME21+ME22+ME23+ME24+ME25+ME26+ME27+ME28+ME29+ME30+ME31+ME32+NLD+NL11+NL12+NL13+NL21+NL22+NL23+NL31+NL32+NL33+NL34+NL41+NL42+NZL+NZ11+NZ12+NZ13+NZ14+NZ15+NZ17+NZ18+NZ19+NZ21+NZ23+NZ24+NZ25+NZ011+NZ012+NZ013+NZ014+NZ015+NZ017+NZ018+NZ019+NZ021+NZ023+NZ024+NZ025+NOR+NO01+NO02+NO03+NO04+NO05+NO06+NO07+POL+POL_TL2+PL12+PL21+PL22+PL41+PL42+PL43+PL51+PL52+PL61+PL62+PL63+PL91+PL92+PRT+PT11+PT15+PT16+PT17+PT18+PT20+PT30+SVK+SK01+SK02+SK03+SK04+SVN+SI03+SI04+ESP+ES11+ES12+ES13+ES21+ES22+ES23+ES24+ES30+ES41+ES42+ES43+ES51+ES52+ES53+ES61+ES62+ES63+ES64+ES70+SWE+SE11+SE12+SE21+SE22+SE23+SE31+SE32+SE33+CHE+CH01+CH02+CH03+CH04+CH05+CH06+CH07+CH011+CH012+CH013+CH021+CH022+CH023+CH024+CH025+CH031+CH032+CH033+CH040+CH051+CH052+CH053+CH054+CH055+CH056+CH057+CH061+CH062+CH063+CH064+CH065+CH066+CH070+TUR+TR10+TR21+TR22+TR31+TR32+TR33+TR41+TR42+TR51+TR52+TR61+TR62+TR63+TR71+TR72+TR81+TR82+TR83+TR90+TRA1+TRA2+TRB1+TRB2+TRC1+TRC2+TRC3+GBR+UKC+UKD+UKE+UKF+UKG+UKH+UKI+UKJ+UKK+UKL+UKM+UKN+GBR_EU2+UKC1+UKC2+UKD1+UKD3+UKD4+UKD6+UKD7+UKE1+UKE2+UKE3+UKE4+UKF1+UKF2+UKF3+UKG1+UKG2+UKG3+UKH1+UKH2+UKH3+UKI3+UKI4+UKI5+UKI6+UKI7+UKJ1+UKJ2+UKJ3+UKJ4+UKK1+UKK2+UKK3+UKK4+UKL1+UKL2+UKM2+UKM3+UKM5+UKM6+UKM7+UKM8+UKM9+UKN0+USA+US01+US02+US04+US05+US06+US08+US09+US10+US11+US12+US13+US15+US16+US17+US18+US19+US20+US21+US22+US23+US24+US25+US26+US27+US28+US29+US30+US31+US32+US33+US34+US35+US36+US37+US38+US39+US40+US41+US42+US44+US45+US46+US47+US48+US49+US50+US51+US53+US54+US55+US56+EA19+BRA+BR01+BR02+BR03+BR04+BR05+BR06+BR07+BR08+BR09+BR10+BR11+BR12+BR13+BR14+BR15+BR16+BR17+BR18+BR19+BR20+BR21+BR22+BR23+BR24+BR25+BR26+BR27+COL+CO05+CO08+CO11+CO13+CO15+CO17+CO18+CO19+CO20+CO23+CO25+CO27+CO41+CO44+CO47+CO50+CO52+CO54+CO63+CO66+CO68+CO70+CO73+CO76+CO81+CO85+CO86+CO88+CO91+CO94+CO95+CO97+CO99+CRI+CR01+CR02+CR03+CR04+CR05+CR06+RUS+RU01+RU02+RU03+RU04+RU05+RU06+RU07+RU08+RU09+RU10+RU11+RU12+RU13+RU14+RU15+RU16+RU17+RU18+RU19+RU20+RU21+RU22+RU23+RU24+RU25+RU26+RU27+RU28+RU29+RU30+RU31+RU32+RU33+RU34+RU35+RU36+RU37+RU38+RU39+RU40+RU41+RU42+RU43+RU44+RU45+RU46+RU47+RU48+RU49+RU50+RU51+RU52+RU53+RU54+RU55+RU56+RU57+RU58+RU59+RU60+RU61+RU62+RU63+RU64+RU65+RU66+RU67+RU68+RU69+RU70+RU71+RU72+RU73+RU74+RU75+RU76+RU77+RU78+RU79+RU80+RU81+RU82+RU83+ZAF+ZA01+ZA02+ZA03+ZA04+ZA05+ZA06+ZA07+ZA08+ZA09+BGR+BG31+BG32+BG33+BG34+BG41+BG42+HRV+HRV_TL2+HR03+HR04+ROU+RO11+RO12+RO21+RO22+RO31+RO32+RO41+RO42.NEAC_SHARE_EA_Y25T64+NEAC_SHARE_EA_Y25T34.L0T2+L3T4+L5T8+L5+L6+L7+L8.T+F+M.VALUE",
                  start_time = 2015, end_time = 2022,
                  pre_formatted = TRUE)
library(httpgd)
?get_dataset
write.csv(df, file = "RWB.csv")
?write.csv
save.image("data.RData")

dataset_list %>% head
